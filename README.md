# MoneyForward Asset Downloader

マネーフォワード ME の資産推移画面から、過去の資産データを一括で取得・CSVダウンロード・グラフ表示する Google Chrome 拡張機能です。

![Version](https://img.shields.io/badge/version-1.2-blue.svg)

## ✨ 主な機能

### 1. 資産データの CSV 一括ダウンロード
- マネーフォワードの「資産推移」ページから、過去の全データを自動で一括取得します。
- **高速取得**: 並列処理により、10年分のデータも数十秒で取得可能です。
- **CSV出力**: Excelなどで管理しやすい形式で保存されます。

### 2. 高機能なグラフ表示
- **合計資産の推移**: 資産総額の変動を太い折れ線グラフで直感的に把握できます。
- **内訳の積み上げ表示**: オプションで「預金・現金」「株式」「投資信託」などの内訳を積み上げグラフに切り替え可能です。
- **柔軟なフィルタリング**:
  - **期間指定**: 過去1年 / 3年 / 5年 / 10年 / 全期間
  - **特定日抽出**: 「毎月 25日 のみ」のように、給料日や月末など特定の日付だけの推移を抽出してノイズを除去できます。
- **クリップボード連携**:
  - **グラフをコピー**: 生成されたグラフを画像としてコピーし、SNSや資料に貼り付けられます。
  - **データをコピー**: グラフの元データをExcel互換形式（タブ区切り）でコピーできます。

## 📦 インストール方法

1. このリポジトリをクローンまたはダウンロードします。
2. Google Chrome を開き、アドレスバーに `chrome://extensions/` と入力します。
3. 右上の **「デベロッパーモード」** をオンにします。
4. **「パッケージ化されていない拡張機能を読み込む」** をクリックし、このプロジェクトのフォルダ（`SRC/moneyforward_extension`）を選択します。

## 🚀 使い方

1. マネーフォワード ME の [資産推移画面](https://moneyforward.com/bs/history) にアクセスします。
2. 画面右下に操作パネルが表示されます。
3. **CSV保存したい場合**: 「全日次データをCSV保存」をクリックします。
4. **グラフを見たい場合**: 「グラフを表示・生成」をクリックします。
   - モーダル画面が開きます。
   - 期間や条件（毎月〇日など）を指定して「再取得・描画」ボタンを押すと、その場でデータを取得してグラフ化します。

## 🛠 技術スタック
- JavaScript (ES6+)
- Chart.js (グラフ描画)
- Chrome Extensions API (Manifest V3)

## 📂 ディレクトリ構成
```
moneyforward_extension/
├── assets/              # アイコン、ライブラリ(Chart.js)
├── content.js           # メインロジック（データ取得、DOM操作、グラフ描画）
├── manifest.json        # 拡張機能の設定ファイル
├── style.css            # UIデザイン
└── README.md            # 説明書
```

## 📝 License
MIT License
